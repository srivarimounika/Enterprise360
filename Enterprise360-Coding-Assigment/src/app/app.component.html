<div class="example-action-buttons">
  User Management
</div>
<mat-accordion class="example-headers-align" multi>
  <div *ngFor="let item of userForm; let i=index;">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{item.value.firstName}}
         
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <!-- <div *ngIf="item[i]"> -->
        <!-- <div *ngFor="let item of usersData; let i=index;"> -->
      <form [formGroup]="item" (submit)="onSubmit(i)">
        <div class="form-row">
          <!-- Personal Information -->
          <div class="form-group">
            <label for="id">ID</label>
            <mat-form-field>
              <input matInput id="id" type="text" formControlName="id">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="firstName">First Name</label>
            <mat-form-field>
              <input matInput id="firstName" type="text" formControlName="firstName">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <mat-form-field>
              <input matInput id="lastName" type="text" formControlName="lastName">
            </mat-form-field>
          </div>
        </div>
      
        <!-- Other fields... -->

      
        <!-- Hair Information -->
        <div formGroupName="hair" class="form-row">
          <div class="form-group">
            <label for="hairColor">Hair Color</label>
            <mat-form-field>
              <input matInput id="hairColor" type="text" formControlName="color">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="hairType">Hair Type</label>
            <mat-form-field>
              <input matInput id="hairType" type="text" formControlName="type">
            </mat-form-field>
          </div>
        </div>
      
        <!-- Address Information -->
        <div formGroupName="address" class="form-row">
          <div class="form-group">
            <label for="address">Address</label>
            <mat-form-field>
              <input matInput id="address" type="text" formControlName="address">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="city">City</label>
            <mat-form-field>
              <input matInput id="city" type="text" formControlName="city">
            </mat-form-field>
          </div>
      
          <!-- Coordinates Information -->
          <div formGroupName="coordinates" class="form-row">
            <div class="form-group">
              <label for="lat">Latitude</label>
              <mat-form-field>
                <input matInput id="lat" type="text" formControlName="lat">
              </mat-form-field>
            </div>
      
            <div class="form-group">
              <label for="lng">Longitude</label>
              <mat-form-field>
                <input matInput id="lng" type="text" formControlName="lng">
              </mat-form-field>
            </div>
          </div>
      
          <div class="form-group">
            <label for="postalCode">Postal Code</label>
            <mat-form-field>
              <input matInput id="postalCode" type="text" formControlName="postalCode">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="state">State</label>
            <mat-form-field>
              <input matInput id="state" type="text" formControlName="state">
            </mat-form-field>
          </div>          

        </div>
        <div formGroupName="company" class="form-row">
          <div formGroupName="address" class="form-row">
            <div class="form-group">
              <label for="companyAddress">Company Address</label>
              <mat-form-field>
                <input matInput id="companyAddress" type="text" formControlName="address">
              </mat-form-field>
            </div>
      
            <div class="form-group">
              <label for="companyCity">Company City</label>
              <mat-form-field>
                <input matInput id="companyCity" type="text" formControlName="city">
              </mat-form-field>
            </div>
      
            <!-- Company Coordinates Information -->
            <div formGroupName="coordinates" class="form-row">
              <div class="form-group">
                <label for="companyLat">Company Latitude</label>
                <mat-form-field>
                  <input matInput id="companyLat" type="text" formControlName="lat">
                </mat-form-field>
              </div>
      
              <div class="form-group">
                <label for="companyLng">Company Longitude</label>
                <mat-form-field>
                  <input matInput id="companyLng" type="text" formControlName="lng">
                </mat-form-field>
              </div>
            </div>
      
            <div class="form-group">
              <label for="companyPostalCode">Company Postal Code</label>
              <mat-form-field>
                <input matInput id="companyPostalCode" type="text" formControlName="postalCode">
              </mat-form-field>
            </div>
      
            <div class="form-group">
              <label for="companyState">Company State</label>
              <mat-form-field>
                <input matInput id="companyState" type="text" formControlName="state">
              </mat-form-field>
            </div>
          </div>
      
          <div class="form-group">
            <label for="department">Department</label>
            <mat-form-field>
              <input matInput id="department" type="text" formControlName="department">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="companyName">Company Name</label>
            <mat-form-field>
              <input matInput id="companyName" type="text" formControlName="name">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="companyTitle">Company Title</label>
            <mat-form-field>
              <input matInput id="companyTitle" type="text" formControlName="title">
            </mat-form-field>
          </div>
        </div>
      
        <!-- Other fields... -->
      
        <!-- Bank Information -->
        <div formGroupName="bank" class="form-row">
          <div class="form-group">
            <label for="cardExpire">Card Expiry</label>
            <mat-form-field>
              <input matInput id="cardExpire" type="text" formControlName="cardExpire">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="cardNumber">Card Number</label>
            <mat-form-field>
              <input matInput id="cardNumber" type="text" formControlName="cardNumber">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="cardType">Card Type</label>
            <mat-form-field>
              <input matInput id="cardType" type="text" formControlName="cardType">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="currency">Currency</label>
            <mat-form-field>
              <input matInput id="currency" type="text" formControlName="currency">
            </mat-form-field>
          </div>
      
          <div class="form-group">
            <label for="iban">IBAN</label>
            <mat-form-field>
              <input matInput id="iban" type="text" formControlName="iban">
            </mat-form-field>
          </div>
        </div>
      
        <div class="button-algin">
         <div class="btn">
          <mat-progress-spinner *ngIf="isSubmitting[i]" class="mat-pro-spi" mode="indeterminate">
      </mat-progress-spinner>
          <!-- Submit button -->
          <button class="save-btn" mat-raised-button color="primary" type="submit" [disabled]="isSubmitting[i]">Save</button>
         </div> 
        <div class="btn">
          <button mat-raised-button color="primary" (click)="cancel(i)" type="button" >Cancel</button>
        </div>
        </div>
      </form>
  </mat-expansion-panel> 
</div>
  
  
</mat-accordion>
